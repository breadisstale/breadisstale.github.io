"use strict";
// var isIE = /*@cc_on!@*/false || !!document.documentMode;
window.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll("[data-modal-button]"),t=document.querySelectorAll("[data-modal-close]"),o=document.querySelectorAll("[data-modal]");function r(e){e.addEventListener("mouseenter",n)}function n(e){document.querySelector(".modal__waxom .modal__right-panel picture img").src=e.target.src,document.querySelector(".modal__waxom .modal__right-panel picture source").srcset=e.target.srcset}function l(e){e.addEventListener("mouseenter",a)}function a(e){document.querySelector(".modal__alivio .modal__right-panel picture img").src=e.target.src,document.querySelector(".modal__alivio .modal__right-panel picture source").srcset=e.target.srcset}function i(e){e.addEventListener("mouseenter",c)}function c(e){document.querySelector(".modal__laslesvpn .modal__right-panel picture img").src=e.target.src,document.querySelector(".modal__laslesvpn .modal__right-panel picture source").srcset=e.target.srcset}e.forEach((function(e){e.addEventListener("click",(function(){var e=this.dataset.modalButton,t=document.querySelector("#"+e);t.classList.remove("hidden"),t.querySelector(".modal-window").addEventListener("click",(function(e){e.stopPropagation()})),document.body.style.overflowY="hidden"}))})),t.forEach((function(e){e.addEventListener("click",(function(){this.closest("[data-modal]").classList.add("hidden"),document.body.style.overflowY="auto"}))})),o.forEach((function(e){e.addEventListener("click",(function(){this.classList.add("hidden"),document.body.style.overflowY="auto"}))})),function(){var e=document.querySelectorAll(".select__header"),t=document.querySelector(".select__header-icon-body");function o(){this.parentElement.classList.toggle("is-active")}e.forEach((function(e){e.addEventListener("click",o)})),t.addEventListener("click",o)}(),new Swiper(".portfolio__swiper",{navigation:{prevEl:".portfolio__slider-prev",nextEl:".portfolio__slider-next"},pagination:{el:".swipper-pagination",clickable:!0},simulateTouch:!1,slideToClickedSlide:!0,keyboard:{enabled:!0,onlyInViewport:!0},slidesPerView:3,spaceBetween:40,slidesPerGroup:1,loop:!1,breakpoints:{0:{slidesPerView:1},680:{slidesPerView:2},1060:{slidesPerView:3}}}),document.querySelectorAll(".modal__waxom .modal__left-panel img").forEach(r),document.querySelectorAll(".modal__alivio .modal__left-panel img").forEach(l),document.querySelectorAll(".modal__laslesvpn .modal__left-panel img").forEach(i),document.querySelectorAll(".modal__waxom .modal__left-panel picture source").forEach(r),document.querySelectorAll(".modal__alivio .modal__left-panel picture source").forEach(l),document.querySelectorAll(".modal__laslesvpn .modal__left-panel picture source").forEach(i);var d=document.querySelector(".select__body"),s=["ru","ua","en"],u=document.querySelector(".select__current"),m=window.location.href;m.includes("ru")?u.innerHTML="Русский":m.includes("ua")?u.innerHTML="Українська":m.includes("en")?u.innerHTML="English":u.innerHTML="Русский",d.addEventListener("click",(function(e){var t=e.target.getAttribute("id");location.href=window.location.pathname+"#"+t,location.reload()})),function(){var e=window.location.hash;for(var t in e=e.substr(1),s.includes(e)||(location.href=window.location.pathname+"#ru",location.reload()),langArr){var o=document.querySelector(".lng-"+t);o&&(o.innerHTML=langArr[t][e])}}();var _=document.getElementById("form");function f(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function p(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}function v(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}_.addEventListener("submit",(async function(e){e.preventDefault();var t=function(e){for(var t=0,o=document.querySelectorAll("._req"),r=0;r<o.length;r++){var n=o[r];p(n),n.classList.contains("_email")?v(n)&&(f(n),t++):""===n.value&&(f(n),t++)}return t}(),o=new FormData(_);if(0===t){_.classList.add("_sending");var r=await fetch("sendmail.php",{method:"POST",body:o,headers:{"Content-Type":"application/json"}});if(r.ok){var n=await r.json();alert(n.message),_.reset(),_.classList.remove("_sending")}else alert("ERROR"),_.classList.remove("_sending")}else alert("Fill required fields, please!")}))}));