"use strict";window.addEventListener("DOMContentLoaded",(function(){var e,t;e=function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(t=new Image).onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA";var o=document.querySelectorAll("[data-modal-button]"),r=document.querySelectorAll("[data-modal-close]"),n=document.querySelectorAll("[data-modal]");function l(e){e.addEventListener("mouseenter",a)}function a(e){document.querySelector(".modal__waxom .modal__right-panel picture img").src=e.target.src,document.querySelector(".modal__waxom .modal__right-panel picture source").srcset=e.target.srcset}function i(e){e.addEventListener("mouseenter",c)}function c(e){document.querySelector(".modal__alivio .modal__right-panel picture img").src=e.target.src,document.querySelector(".modal__alivio .modal__right-panel picture source").srcset=e.target.srcset}function d(e){e.addEventListener("mouseenter",s)}function s(e){document.querySelector(".modal__laslesvpn .modal__right-panel picture img").src=e.target.src,document.querySelector(".modal__laslesvpn .modal__right-panel picture source").srcset=e.target.srcset}o.forEach((function(e){e.addEventListener("click",(function(){var e=this.dataset.modalButton,t=document.querySelector("#"+e);t.classList.remove("hidden"),t.querySelector(".modal-window").addEventListener("click",(function(e){e.stopPropagation()})),document.body.style.overflowY="hidden"}))})),r.forEach((function(e){e.addEventListener("click",(function(){this.closest("[data-modal]").classList.add("hidden"),document.body.style.overflowY="auto"}))})),n.forEach((function(e){e.addEventListener("click",(function(){this.classList.add("hidden"),document.body.style.overflowY="auto"}))})),function(){var e=document.querySelectorAll(".select__header"),t=document.querySelector(".select__header-icon-body");function o(){this.parentElement.classList.toggle("is-active")}e.forEach((function(e){e.addEventListener("click",o)})),t.addEventListener("click",o)}(),new Swiper(".portfolio__swiper",{navigation:{prevEl:".portfolio__slider-prev",nextEl:".portfolio__slider-next"},pagination:{el:".swipper-pagination",clickable:!0},simulateTouch:!1,slideToClickedSlide:!0,keyboard:{enabled:!0,onlyInViewport:!0},slidesPerView:3,spaceBetween:40,slidesPerGroup:1,loop:!1,breakpoints:{0:{slidesPerView:1},680:{slidesPerView:2},1060:{slidesPerView:3}}}),document.querySelectorAll(".modal__waxom .modal__left-panel img").forEach(l),document.querySelectorAll(".modal__alivio .modal__left-panel img").forEach(i),document.querySelectorAll(".modal__laslesvpn .modal__left-panel img").forEach(d),document.querySelectorAll(".modal__waxom .modal__left-panel picture source").forEach(l),document.querySelectorAll(".modal__alivio .modal__left-panel picture source").forEach(i),document.querySelectorAll(".modal__laslesvpn .modal__left-panel picture source").forEach(d);var u=document.querySelector(".select__body"),m=["ru","ua","en"],_=document.querySelector(".select__current"),f=window.location.href;f.includes("ru")?_.innerHTML="Русский":f.includes("ua")?_.innerHTML="Українська":f.includes("en")?_.innerHTML="English":_.innerHTML="Русский",u.addEventListener("click",(function(e){var t=e.target.getAttribute("id");location.href=window.location.pathname+"#"+t,location.reload()})),function(){var e=window.location.hash;for(var t in e=e.substr(1),m.includes(e)||(location.href=window.location.pathname+"#ru",location.reload()),langArr){var o=document.querySelector(".lng-"+t);o&&(o.innerHTML=langArr[t][e])}}();var p=document.getElementById("form");function v(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function g(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}function y(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}p.addEventListener("submit",(async function(e){e.preventDefault();var t=function(e){for(var t=0,o=document.querySelectorAll("._req"),r=0;r<o.length;r++){var n=o[r];g(n),n.classList.contains("_email")?y(n)&&(v(n),t++):""===n.value&&(v(n),t++)}return t}(),o=new FormData(p);if(0===t){p.classList.add("_sending");var r=await fetch("sendmail.php",{method:"POST",body:o,headers:{"Content-Type":"application/json"}});if(r.ok){var n=await r.json();alert(n.message),p.reset(),p.classList.remove("_sending")}else alert("ERROR"),p.classList.remove("_sending")}else alert("Fill required fields, please!")}))}));